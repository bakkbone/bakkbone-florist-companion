jQuery("#bkfCopyBtn").on("click",(function(e){var r=document.getElementById("bkfCopy");r.select(),r.setSelectionRange(0,99999),navigator.clipboard.writeText(r.value),document.getElementById("bkfpTooltip").innerHTML=copied})),jQuery("#bkfCopyBtn").on("mouseout",(function(){document.getElementById("bkfpTooltip").innerHTML=toCopy})),window.addEventListener("keyup",(e=>{"Escape"==e.code&&jQuery("#bkf_ordersearch_results").is(":visible")&&(jQuery("#bkf_adminbar_ordersearch").empty(),jQuery("#bkf_ordersearch_results").empty(),jQuery("#bkf_ordersearch_results").hide())})),jQuery("#bkf_adminbar_ordersearch").on("input click focus change",(function(e){const r=jQuery("#bkf_ordersearch_results")[0],s=this.value;s.length?jQuery.ajax({url:ajaxurl,data:{action:"bkf_order_search",input:s},success:function(e){bkfDebug&&console.debug(e),jQuery(r).empty();var a=JSON.parse(e),t=Object.entries(a);if(t.sort((function(e,r){let s;return e.created<r.created?s=-1:e.created==r.created?s=0:e.created>r.created&&(s=1),s})),t.reverse(),t.length)for(const[e,s]of t){var c=s.id,p=s.dd,o=s.pickup,n=s.physical,d=s.delsuburb,i=s.recipient,u=s.sender,l=s.editlink,y=s.wslink,b='<div class="bkf_ordersearch_result" id="bkf_ordersearch_result_'+c+'"><a href="'+l+'"><h2>'+copyVars.orderTitle.replace("%s",c)+"</h2></a>";b+=n&&o?"<p>"+copyVars.pickupText.replace("%s",p)+'</p><p class="bkf_links"><a href="'+y+'">'+copyVars.wsText+'</a>&nbsp;|&nbsp;<a href="'+l+'">'+copyVars.editText+"</a></p>":n?"<p>"+copyVars.delText.replace("%s",p)+"<br>"+copyVars.recText.replace("%s",i)+"<br>"+copyVars.subText.replace("%s",d)+'</p><p class="bkf_links"><a href="'+y+'">'+copyVars.wsText+'</a>&nbsp;|&nbsp;<a href="'+l+'">'+copyVars.editText+"</a></p>":"<p>"+copyVars.cusText.replace("%s",u)+"</p>",b+="</div>",jQuery(r).append(b)}else{var f='<div id="bkf_ordersearch_noresults"><p>'+copyVars.noResults.replace("%s",s)+"</p></div>";jQuery(r).append(f)}jQuery(r).show()}}):(jQuery(r).empty(),jQuery(r).hide())}));